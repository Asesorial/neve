!function(){"use strict";var e,n=function(){return window.innerWidth<=960},t=function(e,n){for(var t=0;t<e.length;t++)n(e[t])},o=function(e){return e.indexOf("#")>-1&&(e=e.substr(0,e.lastIndexOf("#"))),"/"===e.substr(-1)&&(e=e.substring(0,e.length-1)),e},i=function(e,n,t){if(e instanceof NodeList)for(var o=0;o<e.length;o++)e[o].addEventListener(n,t);else(e instanceof Node||e instanceof Element)&&e.addEventListener(n,t)},r=function(e,n){a(e,n,"toggle")},u=function(e,n){a(e,n,"add")},c=function(e,n){a(e,n,"remove")},a=function(e,n,t){var o=className.split(" ");e=(e.length?e:[e]).forEach(e=>{e.classList[t].apply(e.classList,o)})},d=null,s=null,l=2,f=function(){if(null===document.querySelector(".blog.nv-index-posts"))return!1;v(),m()},v=function(){if("enabled"!==NeveProperties.masonry||NeveProperties.masonryColumns<2)return!1;s=document.querySelector(".nv-index-posts .posts-wrapper"),imagesLoaded(s,(function(){d=new Masonry(s,{itemSelector:"article.layout-grid",columnWidth:"article.layout-grid",percentPosition:!0})}))},m=function(){if("enabled"!==NeveProperties.infiniteScroll)return!1;!function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=new IntersectionObserver(e=>{e[0].intersectionRatio<=t||n()});o.observe(e)}(document.querySelector(".infinite-scroll-trigger"),(function(){if(void 0!==parent.wp.customize)return parent.wp.customize.requestChangesetUpdate().then((function(){p()})),!1;p()}))},p=function(){var e=document.querySelector(".infinite-scroll-trigger");if(null===e)return!1;if(document.querySelector(".nv-loader").style.display="block",l>NeveProperties.infiniteScrollMaxPages)return e.parentNode.removeChild(e),document.querySelector(".nv-loader").style.display="none",!1;var n,t,o,i,r=document.querySelector(".nv-index-posts .posts-wrapper"),u=y(NeveProperties.infiniteScrollEndpoint+l);l++,n=u,t=function(e){r.innerHTML+=JSON.parse(e),g()},o=NeveProperties.infiniteScrollQuery,(i=new XMLHttpRequest).onload=function(){4===i.readyState&&200===i.status&&t(i.response)},i.onerror=function(e){console.error(e)},i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.send(o)},g=function(){null!==d&&imagesLoaded(s).on("progress",(function(e){d.layout(),d.reloadItems()}))},y=function(e){return void 0===wp.customize?e:(e+="?customize_changeset_uuid="+wp.customize.settings.changeset.uuid+"&customize_autosaved=on","undefined"==typeof _wpCustomizeSettings?e:e+="&customize_preview_nonce="+_wpCustomizeSettings.nonce.preview)},h=function(){var i,a,d,s,l,f;e=window.location.href,w(),function(){var n=document.querySelectorAll(".nv-nav-wrap a");if(0===n.length)return!1;t(n,(function(n){n.addEventListener("click",(function(n){var t=n.target.getAttribute("href");if(null===t)return!1;o(t)===o(e)&&window.HFG.toggleMenuSidebar(!1)}))}))}(),i=document.querySelectorAll(".caret-wrap"),t(i,(function(e){e.addEventListener("click",(function(n){n.preventDefault();var t=e.parentNode.parentNode.querySelector(".sub-menu");r(e,"dropdown-open"),r(t,"dropdown-open")}))})),function(){var e=document.querySelectorAll(".nv-nav-search"),o=document.querySelectorAll(".menu-item-nav-search"),i=document.querySelectorAll(".close-responsive-search");document.querySelector("html");t(o,(function(e){e.addEventListener("click",(function(t){t.stopPropagation(),r(e,"active"),e.querySelector(".search-field").focus(),n()||function(e,n){var t=document.querySelector(".nav-clickaway-overlay");if(null!==t)return!1;t=document.createElement("div"),u(t,"nav-clickaway-overlay");var o=document.querySelector("header.header");o.parentNode.insertBefore(t,o),t.addEventListener("click",(function(){c(e,n),t.parentNode.removeChild(t)}))}(e,"active")}))})),t(e,(function(e){e.addEventListener("click",(function(e){e.stopPropagation()}))})),t(i,(function(e){e.addEventListener("click",(function(e){e.preventDefault(),t(o,(function(e){c(e,"active")}));var n=document.querySelector(".nav-clickaway-overlay");null!==n&&n.parentNode.removeChild(n)}))}))}(),!0==(d=window.navigator.userAgent,s=d.indexOf("MSIE "),l=d.indexOf("Edge/"),f=d.indexOf("Trident/"),s>0||f>0||l>0)&&(a=document.querySelectorAll('.header--row[data-show-on="desktop"] .sub-menu'),t(a,(function(e){var n=e.parentNode;n.addEventListener("mouseenter",(function(){u(e,"dropdown-open")})),n.addEventListener("mouseleave",(function(){c(e,"dropdown-open")}))})))},w=function(){if(n())return!1;var e=document.querySelectorAll(".sub-menu .sub-menu");if(0===e.length)return!1;var o=window.innerWidth;t(e,(function(e){var n=e.getBoundingClientRect(),t=n.left;/webkit.*mobile/i.test(navigator.userAgent)&&(n-=window.scrollX),t+n.width>=o&&(e.style.right="100%",e.style.left="auto")}))};var b,S=function(){this.options={menuToggleDuration:300},this.init()};function q(){w()}S.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=".menu-mobile-toggle";!1===e&&(n+=", #header-menu-sidebar .close-panel, .close-sidebar-panel");var o=document.querySelectorAll(n),r=function(e){e.preventDefault(),this.toggleMenuSidebar()};t(o,function(e){e.removeEventListener("click",r.bind(this))}.bind(this)),i(o,"click",r.bind(this));var u=document.querySelector(".header-menu-sidebar-overlay");i(u,"click",function(){this.toggleMenuSidebar(!1)}.bind(this))},S.prototype.toggleMenuSidebar=function(e){var n=document.querySelectorAll(".menu-mobile-toggle");c(document.body,"hiding-header-menu-sidebar"),document.body.classList.contains("is-menu-sidebar")||!1===e?(u(document.body,"hiding-header-menu-sidebar"),c(document.body,"is-menu-sidebar"),c(n,"is-active"),setTimeout(function(){c(document.body,"hiding-header-menu-sidebar")}.bind(this),1e3)):(u(document.body,"is-menu-sidebar"),u(n,"is-active"))},window.addEventListener("load",(function(){window.HFG=new S,f(),h()})),window.addEventListener("resize",(function(){clearTimeout(b),b=setTimeout(q,500)}))}();
