!function(){"use strict";var t,n,e,i={state:{integrationStatus:neveGutenbergHelper.integrationStatus,titleMeta:neveGutenbergHelper.neve_meta_disable_title,postMeta:neveGutenbergHelper.metaStatus,sidebarPosition:neveGutenbergHelper.neve_meta_sidebar||neveGutenbergHelper.sidebarSetup,containerSetup:neveGutenbergHelper.neve_meta_container||neveGutenbergHelper.containerSetup},setState:function(e,t){this.state[e]=t},getState:function(e){return this.state[e]||null},toggleState:function(e){this.state[e]="enabled"===this.state[e]?"disabled":"enabled"}},a=function(){if(document.getElementsByClassName("edit-post-more-menu__content").length<=0)return!1;t=i.getState("integrationStatus");var e=document.querySelector(".components-menu-group:first-of-type div:not(.components-menu-group__label) button:last-child");(n=document.createElement("button")).classList.add("components-button","components-icon-button","components-menu-item__button"),n.innerHTML='<svg style="display: none;" aria-hidden="true" role="img" focusable="false" class="dashicon dashicons-yes" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M14.83 4.89l1.34.94-5.81 8.38H9.02L5.78 9.67l1.34-1.25 2.57 2.4z"></path></svg><span class="components-menu-item__info-wrapper">'+neveGutenbergHelper.strings.menuItemTitle+"</span>","enabled"===t&&(n.classList.add("has-icon"),n.querySelector("svg").style.display="block"),n.addEventListener("click",function(e){i.toggleState("integrationStatus"),new Promise(function(e,t){var n=neveGutenbergHelper.integrationEndpoint,a=new XMLHttpRequest;a.open("POST",n,!0),a.setRequestHeader("X-WP-Nonce",neveGutenbergHelper.nonce),a.setRequestHeader("Content-Type","application/json; charset=UTF-8"),a.onload=function(){200===a.status&&4===a.readyState?e(a.responseText):t({status:this.status,statusText:this.statusText})},a.send(JSON.stringify({neve_gutenberg_integration:i.state.integrationStatus}))}).then(function(){var e=n.querySelector("svg");if("none"===e.style.display?e.style.display="block":e.style.display="none",n.classList.toggle("has-icon"),""!==wp.data.select("core/editor").getEditedPostAttribute("template"))return!1;s()})}),e.parentNode.insertBefore(n,e.nextSibling)},r=function(){if(null===(e=document.querySelector(".editor-page-attributes__template select")))return!1;e.addEventListener("change",function(e){if(""===e.target.value)return"disabled"===i.getState("integrationStatus")||s(!0),!1;s(!1)})},s=function(e){null===e&&(e="toggle");var t=document.querySelector(".editor-styles-wrapper");return!1===e?(t.classList.remove("neve-gtb"),!1):!0===e?(t.classList.add("neve-gtb"),!1):void t.classList.toggle("neve-gtb")},o=function(){var e=document.createElement("style");e.classList.add("neve-live-css"),document.body.appendChild(e)},l=function(){var e=document.querySelector(".editor-styles-wrapper"),t=document.querySelector(".editor-writing-flow > div:not(.wp-block)"),n=document.querySelector(".editor-writing-flow > div > div"),a=i.getState("titleMeta"),r=i.getState("postMeta");"enabled"===i.getState("integrationStatus")&&""===wp.data.select("core/editor").getEditedPostAttribute("template")&&e.classList.add("neve-gtb"),t.classList.add("neve-content-wrap"),n.classList.add("neve-blocks-wrap"),"enabled"===r&&e.classList.add("neve-has-meta"),"on"===a&&(document.getElementsByClassName("editor-post-title")[0].style.display="none")},c=function(){var e=i.getState("sidebarPosition");d(e)},d=function(e){var t=document.querySelector(".editor-writing-flow > div:not(.wp-block)"),n=document.querySelector(".editor-styles-wrapper"),a=u(e);switch(n.classList.remove("has-sidebar-left","has-sidebar-right","has-sidebar-full-width"),n.classList.add("has-sidebar-"+e),e){case"right":t.appendChild(a);break;case"left":t.insertBefore(a,t.firstChild)}return!1},u=function(e){var t=document.createElement("div");return t.classList.add("neve-gtb-sidebar",e),t.innerHTML="<p>"+neveGutenbergHelper.strings.sidebar+"</p>",t},p=function(){var e=i.getState("containerSetup");g(e)},g=function(e){var t=document.querySelector(".editor-styles-wrapper");switch(e){default:case"contained":t.classList.remove("container-fluid"),t.classList.add("container");break;case"full-width":t.classList.remove("container"),t.classList.add("container-fluid")}return!1},v=function(){var t=document.querySelector(".editor-styles-wrapper"),e=document.querySelector("#neve-page-settings  #neve_meta_disable_title");null!==e&&e.addEventListener("change",function(){var e=t.querySelector(".editor-post-title");return"none"===e.style.display?!(e.style.display="block"):!(e.style.display="none")}),document.querySelectorAll("#neve-page-settings input[name=neve_meta_sidebar]").forEach(function(e){e.addEventListener("change",function(e){var t=e.target.value;"default"===t&&(t=neveGutenbergHelper.sidebarSetup);var n=document.querySelectorAll(".neve-gtb-sidebar");return Array.prototype.forEach.call(n,function(e){e.parentNode.removeChild(e)}),d(t),!1})}),document.querySelectorAll("#neve-page-settings input[name=neve_meta_container]").forEach(function(e){e.addEventListener("change",function(e){var t=e.target.value;return"default"===t&&(t=neveGutenbergHelper.containerSetup),g(t),!1})}),document.querySelector("#neve-page-settings input[name=neve_meta_enable_content_width]").addEventListener("change",function(e){if(!0===e.target.checked)return b(),!1;document.querySelector(".neve-live-css").innerHTML=""}),document.querySelector("#neve-page-settings #neve_meta_content_width").addEventListener("input",function(e){var t=e.target.value;return b(t),!1}),document.querySelector("#neve-page-settings #neve_meta_content_width-range").addEventListener("input",function(e){var t=e.target.value;return b(t),!1})},m=function(){return"on"!==neveGutenbergHelper.neve_meta_enable_content_width||b(),!1},b=function(e){var t,n,a,r,i;return e||(e=document.querySelector("#neve-page-settings input[name=neve_meta_content_width]").value),document.querySelector(".neve-live-css").innerHTML="@media(min-width: 960px) { .neve-gtb.has-sidebar-full-width .neve-blocks-wrap > .editor-block-list__layout > .wp-block:not([data-align=full]):not([data-align=wide]) > *,.neve-gtb.has-sidebar-full-width .neve-blocks-wrap .wp-block.editor-post-title__block > div,.neve-gtb.has-sidebar-left .neve-blocks-wrap,.neve-gtb.has-sidebar-right .neve-blocks-wrap { max-width: "+e+"% !important; } "+(t=e,n=window.getComputedStyle(document.querySelector(".neve-content-wrap")).width,a=t/100*window.getComputedStyle(document.querySelector(".wp-block.editor-post-title__block")).width,r=(n-a)/5,0!==(i=Math.floor(a+2*r))?".wp-block[data-align=wide] { max-width:"+i+"px;}":"")+"}",!1},f=function(){!function(){r();var e=new MutationObserver(function(e){e.forEach(function(e){"edit-post-more-menu"===e.target.className&&a(),(e.target.classList.contains("components-panel__body")||e.target.classList.contains("edit-post-meta-boxes-area__container"))&&r()})}),t=document.getElementsByClassName("edit-post-layout");e.observe(t[0],{childList:!0,subtree:!0})}(),o(),l(),c(),p(),v(),m()};window.addEventListener("DOMContentLoaded",function(){f()})}();
