!function(){"use strict";function l(e,t,n,o,r,a,i){try{var s=e[a](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,r)}function o(s){return function(){var e=this,i=arguments;return new Promise(function(t,n){var o=s.apply(e,i);function r(e){l(o,t,n,r,a,"next",e)}function a(e){l(o,t,n,r,a,"throw",e)}r(void 0)})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(){}function h(){}h.resetWarningCache=f;var e,t=(function(e){e.exports=function(){function e(e,t,n,o,r,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:h,resetWarningCache:f};return n.PropTypes=n}()}(e={exports:{}},e.exports),e.exports),d=(wp.i18n.__,wp.element.Component),g=wp.components.ToggleControl,w=function(e){function n(e){var t;return a(this,n),(t=v(this,m(n).call(this,e))).state={value:e.control.setting.get()},t}return p(n,d),i(n,[{key:"toggleValue",value:function(e){this.setState({value:e}),this.props.control.setting.set(e)}},{key:"render",value:function(){var t=this;return wp.element.createElement(g,{checked:this.state.value,onChange:function(e){return t.toggleValue(e)}})}}]),n}();w.propTypes={control:t.object.isRequired};var y=wp.customize.Control.extend({renderContent:function(){ReactDOM.createPortal(wp.element.createElement(w,{control:this}),this.container[0])}}),b=wp.i18n.__,E=wp.element,k=E.Component,C=E.Fragment,O=wp.editor.MediaPlaceholder,P=wp.components,S=P.Button,D=P.ButtonGroup,_=P.RangeControl,R=P.FocalPointPicker,x=P.Dashicon,T=P.ColorPalette,V=P.ToggleControl,N=function(e){function o(e){var t;a(this,o),t=v(this,m(o).call(this,e));var n=e.control.setting.get();return t.state={type:n.type||"color",imageUrl:n.imageUrl||"",focusPoint:n.focusPoint||{x:.5,y:.5},colorValue:n.colorValue||"#ffffff",overlayColorValue:n.overlayColorValue||"#000000",overlayOpacity:n.overlayOpacity||50,fixed:n.fixed||!1},t}return p(o,k),i(o,[{key:"getButtons",value:function(){var e={color:b("Color","neve"),image:b("Image","neve")},n=[],o=this;return["color","image"].map(function(t){n.push(wp.element.createElement(S,{isPrimary:o.state.type===t,isDefault:o.state.type!==t,onClick:function(e){o.setState({type:t}),o.updateSetting()}},e[t]))}),n}},{key:"render",value:function(){var t=this,n=this,e=[{name:"black",color:"#000000"},{name:"white",color:"#ffffff"},{name:"red",color:"#cc433c"},{name:"orange",color:"#d39b48"},{name:"green",color:"#95d45a"},{name:"blue",color:"#3972b8"}];return wp.element.createElement(C,null,this.props.control.params.label&&wp.element.createElement("span",{className:"customize-control-title"},this.props.control.params.label),wp.element.createElement("div",{className:"control--top-toolbar"},wp.element.createElement(D,{className:"neve-background-type-control"},this.getButtons())),wp.element.createElement("div",{className:"control--body"},"color"===this.state.type&&wp.element.createElement(C,null,wp.element.createElement(T,{colors:e,value:this.state.colorValue,onChange:function(e){n.setState({colorValue:e}),n.updateSetting()}}),wp.element.createElement("div",{className:"color-preview",style:{backgroundColor:this.state.colorValue}})),"image"===this.state.type&&wp.element.createElement(C,null,!this.state.imageUrl&&wp.element.createElement(O,{icon:"format-image",labels:{title:b("Image","neve"),instructions:b("Select from the Media Library or upload a new image","neve")},onSelect:function(e){t.setState({imageUrl:e.url}),t.updateSetting()},allowedTypes:["image"]})||wp.element.createElement(C,null,wp.element.createElement(S,{className:"remove-image",isDestructive:!0,isLink:!0,onClick:function(){t.setState({imageUrl:""}),t.updateSetting()}},wp.element.createElement(x,{icon:"no"}),"Remove Image"),wp.element.createElement(R,{url:this.state.imageUrl,value:this.state.focusPoint,onChange:function(e){t.setState({focusPoint:{x:parseFloat(e.x).toFixed(2),y:parseFloat(e.y).toFixed(2)}}),t.updateSetting()}})),wp.element.createElement(V,{label:b("Fixed Background","neve"),checked:this.state.fixed,onChange:function(e){t.setState({fixed:e}),t.updateSetting()}}),wp.element.createElement("span",{className:"customize-control-title"},b("Overlay Color","neve")),wp.element.createElement(T,{colors:e,value:this.state.overlayColorValue,onChange:function(e){n.setState({overlayColorValue:e}),n.updateSetting()}}),wp.element.createElement("div",{className:"color-preview",style:{backgroundColor:this.state.overlayColorValue}}),wp.element.createElement(_,{label:b("Overlay Opacity","neve"),value:this.state.overlayOpacity,onChange:function(e){t.setState({overlayOpacity:e}),t.updateSetting()},min:"0",max:"100"}))))}},{key:"updateSetting",value:function(){var e=this;setTimeout(function(){e.props.control.setting.set(u({},e.props.control.setting.get(),{},e.state))},100)}}]),o}();N.propTypes={control:t.object.isRequired};var j=wp.customize.Control.extend({renderContent:function(){ReactDOM.render(wp.element.createElement(N,{control:this}),this.container[0])}}),L=wp.i18n.__,B=wp.element,F=B.Component,z=B.Fragment,I=wp.components,U=I.Button,q=I.Dashicon,M=I.Dropdown,A=I.IconButton,G=function(e){function n(e){var t;return a(this,n),(t=v(this,m(n).call(this,e))).state={view:"desktop"},t.linkResponsiveButtons(),t}return p(n,F),i(n,[{key:"render",value:function(){var n=this,o=this.state.view;return wp.element.createElement(z,null,wp.element.createElement("div",{className:"neve-responsive-control-bar"},this.props.controlLabel&&wp.element.createElement("span",{className:"customize-control-title"},this.props.controlLabel),!this.props.hideResponsive&&wp.element.createElement("div",{className:"floating-controls"},wp.element.createElement(M,{position:"top left",renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return wp.element.createElement(A,{icon:"mobile"===o?"smartphone":o,label:L("Responsiveness Settings","neve"),className:"is-button",onClick:n,"aria-expanded":t})},renderContent:function(e){var t=e.onToggle;return wp.element.createElement("div",{className:"neve-devices-dropdown"},wp.element.createElement(U,{className:{"is-selected":"desktop"===o},onClick:function(){t(),n.changeViewType("desktop")}},wp.element.createElement(q,{icon:"desktop"}),wp.element.createElement("span",{className:"popover-title"},L("Desktop","neve"))),wp.element.createElement(U,{className:{"is-selected":"tablet"===o},onClick:function(){t(),n.changeViewType("tablet")}},wp.element.createElement(q,{icon:"tablet"}),wp.element.createElement("span",{className:"popover-title"},L("Tablet Devices","neve"))),wp.element.createElement(U,{className:{"is-selected":"mobile"===o},onClick:function(){t(),n.changeViewType("mobile")}},wp.element.createElement(q,{icon:"smartphone"}),wp.element.createElement("span",{className:"popover-title"},L("Smartphones","neve"))))}}))),this.props.children)}},{key:"changeViewType",value:function(e){this.setState({view:e}),wp.customize.previewedDevice(e),this.props.onChange(e)}},{key:"linkResponsiveButtons",value:function(){var t=this;document.addEventListener("neveChangedRepsonsivePreview",function(e){t.changeViewType(e.detail)})}}]),n}();G.propTypes={onChange:t.func,controlLabel:t.string};var W=wp.i18n.__,H=wp.components,J=H.Dropdown,Y=H.IconButton,K=H.RangeControl,Q=wp.element.Component,X=function(e){function t(e){return a(this,t),v(this,m(t).call(this,e))}return p(t,Q),i(t,[{key:"render",value:function(){var o=this;return wp.element.createElement("div",{className:"neve-responsive-sizing"},this.props.options.map(function(n,e){return wp.element.createElement("div",{className:"nv-sizing-item"},wp.element.createElement(J,{position:"top center",focusOnMount:!1,renderToggle:function(e){e.isOpen;var t=e.onToggle;return wp.element.createElement("input",{type:"number",id:n.type+"-input",value:n.value&&n.value,min:o.props.min,max:o.props.max,step:o.props.step,onFocus:t,onChange:function(e){return o.props.onChange(n.type,0===e.target.value?0:e.target.value||"")}})},renderContent:function(e){e.onToggle;return wp.element.createElement("div",{className:"range-control"},wp.element.createElement(K,{value:n.value&&n.value,initialPosition:n.value&&n.value||0,beforeIcon:"minus",afterIcon:"plus",min:o.props.min,max:o.props.max,step:o.props.step,onChange:function(e){return o.props.onChange(n.type,0===e?0:e||"")}}))}}),n.type&&wp.element.createElement("label",{className:"label",for:n.type+"-input"},n.type))}),wp.element.createElement("div",{className:"nv-sizing-link"},wp.element.createElement(Y,{className:this.props.linked&&"is-linked",icon:this.props.linked?"admin-links":"editor-unlink",tooltip:this.props.linked?W("Unlink Values","neve"):W("Link Values","neve"),onClick:function(){return o.props.onLinked()}})),this.hasSetValues()&&wp.element.createElement("div",{className:"nv-sizing-reset"},wp.element.createElement(Y,{onClick:this.props.onReset,tooltip:W("Reset all Values","neve"),icon:"image-rotate",className:"reset"})))}},{key:"hasSetValues",value:function(){return 0<this.props.options.filter(function(e){return e.value}).length}}]),t}();X.propTypes={options:t.array.isRequired,onLinked:t.func.isRequired,onChange:t.func.isRequired,linked:t.bool.isRequired,onReset:t.func};wp.i18n.__;var Z=wp.element,$=Z.Component,ee=Z.Fragment,te=wp.components,ne=te.ButtonGroup,oe=te.Button,re=lodash.mapValues,ae=function(e){function r(e){var t;a(this,r),t=v(this,m(r).call(this,e));var n=e.control.setting.get();t.state={value:n,linked:!0,currentDevice:"desktop"},t.shouldValuesBeLinked()||(t.state.linked=!1);var o={min:-300,max:300,hideResponsiveButtons:!1};return t.controlParams=e.control.params.input_attrs?u({},o,{},e.control.params.input_attrs):o,t}return p(r,$),i(r,[{key:"render",value:function(){var n=this,e=[{type:"top",value:this.state.value[this.state.currentDevice].top},{type:"right",value:this.state.value[this.state.currentDevice].right},{type:"bottom",value:this.state.value[this.state.currentDevice].bottom},{type:"left",value:this.state.value[this.state.currentDevice].left}];return wp.element.createElement(ee,null,wp.element.createElement(G,{controlLabel:this.props.control.params.label,hideResponsive:this.controlParams.hideResponsiveButtons,onChange:function(e){n.setState({currentDevice:e}),n.setState({linked:n.shouldValuesBeLinked()})}},wp.element.createElement(X,{min:this.controlParams.min,max:this.controlParams.max,step:"em"===this.state.value[this.state.currentDevice+"-unit"]?.1:1,options:e,linked:this.state.linked,onLinked:function(){return n.setState({linked:!n.state.linked})},onChange:function(e,t){n.updateValues(e,t)},onReset:function(){var t=u({},n.state.value);["mobile","desktop","tablet"].map(function(e){t[e]=re(t[e],function(){return""})}),n.setState({value:t}),n.props.control.setting.set(t)}}),wp.element.createElement("div",{className:"neve-units"},wp.element.createElement(ne,{className:"units"},this.getButtons()))))}},{key:"getButtons",value:function(){var e=[],n=this;return["px","em","%"].map(function(t){e.push(wp.element.createElement(oe,{isDefault:!0,className:n.state.value[n.state.currentDevice+"-unit"]===t?"is-active":"",onClick:function(){var e=u({},n.state.value);"em"!==(e[n.state.currentDevice+"-unit"]=t)&&(e[n.state.currentDevice]=re(e[n.state.currentDevice],function(e){return e?parseInt(e):e})),n.setState({value:e}),n.props.control.setting.set(e)}},t))}),e}},{key:"updateValues",value:function(e,t){var n=u({},this.state.value);t=0===t?0:t||"",this.state.linked?n[this.state.currentDevice]=re(n[this.state.currentDevice],function(){return t}):n[this.state.currentDevice]=u({},n[this.state.currentDevice],s({},e,t)),this.setState({value:n}),this.props.control.setting.set(n)}},{key:"shouldValuesBeLinked",value:function(){var t=[this.state.value[this.state.currentDevice].top,this.state.value[this.state.currentDevice].right,this.state.value[this.state.currentDevice].bottom,this.state.value[this.state.currentDevice].left];return t.every(function(e){return e===t[0]})}}]),r}();ae.propTypes={control:t.object.isRequired};var ie=wp.customize.Control.extend({renderContent:function(){ReactDOM.render(wp.element.createElement(ae,{control:this}),this.container[0])}}),se=lodash,le=(se.startCase,se.toLower,wp.i18n.__),ce=wp.compose.withInstanceId,ue=wp.components,pe=ue.Popover,me=ue.Button,ve=ue.TextControl,fe=wp.element,he=fe.Component,de=fe.Fragment,ge=ce(function(e){function n(e){var t;return a(this,n),(t=v(this,m(n).call(this,e))).state={fonts:null,value:"",isVisible:!1,filteredFonts:[],search:""},t}return p(n,he),i(n,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("load",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(NeveReactCustomize.fontsJson).then(function(e){return e.json()}).then(function(e){t.setState({fonts:e})}).finally(function(){});case 1:case"end":return e.stop()}},e)})))}},{key:"getFonts",value:function(){console.log(this.state.fonts);var t=[],n=this;return this.state.fonts&&Object.keys(this.state.fonts).forEach(function(e){n.state.search&&!e.toLowerCase().includes(n.state.search.toLowerCase())||t.push({name:e,variants:n.state.fonts[e].variants})}),t||[]}},{key:"getFontList",value:function(){var t=this,e=this.getFonts(),o=[],r=this;return e.map(function(t){var e={fontFamily:t.name+", sans-serif"};console.log(t);var n=document.createElement("link");n.setAttribute("rel","https://fonts.googleapis.com/css?family="+t.name+"&text="+t.name),n.setAttribute("id",t.name),console.log(n),o.push(wp.element.createElement("li",null,wp.element.createElement("a",{style:e,onClick:function(e){e.stopPropagation(),r.setState({selected:t,dropdownOpen:!1})}},t.name)))}),wp.element.createElement(de,null,wp.element.createElement(ve,{value:this.state.search,onChange:function(e){return t.setState({search:e})}}),wp.element.createElement("ul",null,o.length&&o||wp.element.createElement("li",null,le("No fonts found for your search."))))}},{key:"render",value:function(){var e=this;return self=this,wp.element.createElement(de,null,wp.element.createElement(me,{isDefault:!0,onClick:function(){e.setState({isVisible:!0})}},le("Font Family"),this.state.isVisible&&wp.element.createElement(pe,{noArrow:!0,onClickOutside:function(){return e.setState({isVisible:!1})}},this.state.fonts&&this.getFontList()||le("Loading..."))))}}]),n}()),we=wp.i18n.__,ye=wp.element,be=ye.Component,Ee=ye.Fragment,ke=(wp.editor.MediaPlaceholder,wp.components),Ce=ke.Button,Oe=(ke.ButtonGroup,ke.RangeControl,ke.FocalPointPicker,ke.Dashicon,ke.ColorPalette,ke.ToggleControl,function(e){function o(e){var t;a(this,o),t=v(this,m(o).call(this,e));var n=e.control.setting.get();return t.state={type:n.type||"color",imageUrl:n.imageUrl||"",focusPoint:n.focusPoint||{x:.5,y:.5},colorValue:n.colorValue||"#ffffff",overlayColorValue:n.overlayColorValue||"#000000",overlayOpacity:n.overlayOpacity||50,fixed:n.fixed||!1},t}return p(o,be),i(o,[{key:"getButtons",value:function(){var e={color:we("Color"),image:we("Image")},n=[],o=this;return["color","image"].map(function(t){n.push(wp.element.createElement(Ce,{isPrimary:o.state.type===t,isDefault:o.state.type!==t,onClick:function(e){o.setState({type:t}),o.updateSetting()}},e[t]))}),n}},{key:"render",value:function(){return wp.element.createElement(Ee,null,this.props.control.params.label&&wp.element.createElement("span",{className:"customize-control-title"},this.props.control.params.label),wp.element.createElement(ge,null))}},{key:"updateSetting",value:function(){var e=this;setTimeout(function(){e.props.control.setting.set(u({},e.props.control.setting.get(),{},e.state))},100)}}]),o}());Oe.propTypes={control:t.object.isRequired};var Pe=wp.customize.Control.extend({renderContent:function(){this.focus(),console.log("loaded"),ReactDOM.render(wp.element.createElement(Oe,{control:this}),this.container[0])}});wp.customize.controlConstructor.neve_toggle_control=y,wp.customize.controlConstructor.neve_background_control=j,wp.customize.controlConstructor.neve_spacing=ie,wp.customize.controlConstructor.neve_typeface_control=Pe,window.addEventListener("load",function(){document.querySelector("#customize-footer-actions .devices, .hfg--cb-devices-switcher a.switch-to").addEventListener("click",function(e){var t=new CustomEvent("neveChangedRepsonsivePreview",{detail:e.target.dataset.device});document.dispatchEvent(t)})})}();
