!function(){"use strict";function c(e,t,n,o,r,a,l){try{var i=e[a](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(o,r)}function o(i){return function(){var e=this,l=arguments;return new Promise(function(t,n){var o=i.apply(e,l);function r(e){c(o,t,n,r,a,"next",e)}function a(e){c(o,t,n,r,a,"throw",e)}r(void 0)})}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function l(r){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(a,!0).forEach(function(e){var t,n,o;t=r,o=a[n=e],n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):n(a).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(){}function f(){}f.resetWarningCache=m;var e,y=(function(e){e.exports=function(){function e(e,t,n,o,r,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:f,resetWarningCache:m};return n.PropTypes=n}()}(e={exports:{}},e.exports),e.exports),h=wp.i18n.__,g=wp.element.Component,v=wp.components.ToggleControl,d=function(e){function n(e){var t;return r(this,n),(t=p(this,s(n).call(this,e))).state={value:e.control.setting.get()},t}return i(n,g),t(n,[{key:"toggleValue",value:function(e){this.setState({value:e}),this.props.control.setting.set(e)}},{key:"render",value:function(){var t=this;return wp.element.createElement(v,{label:h("A customizer toggle"),checked:this.state.value,onChange:function(e){return t.toggleValue(e)}})}}]),n}();d.propTypes={control:y.object.isRequired};var w=wp.customize.Control.extend({renderContent:function(){ReactDOM.createPortal(wp.element.createElement(d,{control:this}),this.container[0])}}),b=wp.i18n.__,O=wp.element,C=O.Component,E=O.Fragment,P=wp.editor.MediaPlaceholder,k=wp.components,S=k.Button,_=k.ButtonGroup,x=k.RangeControl,j=k.FocalPointPicker,T=k.Dashicon,V=k.ColorPalette,F=k.ToggleControl,R=function(e){function o(e){var t;r(this,o),t=p(this,s(o).call(this,e));var n=e.control.setting.get();return t.state={type:n.type||"color",imageUrl:n.imageUrl||"",focusPoint:n.focusPoint||{x:.5,y:.5},colorValue:n.colorValue||"#ffffff",overlayColorValue:n.overlayColorValue||"#000000",overlayOpacity:n.overlayOpacity||50,fixed:n.fixed||!1},t}return i(o,C),t(o,[{key:"getButtons",value:function(){var e={color:b("Color"),image:b("Image")},n=[],o=this;return["color","image"].map(function(t){n.push(wp.element.createElement(S,{isPrimary:o.state.type===t,isDefault:o.state.type!==t,onClick:function(e){o.setState({type:t}),o.updateSetting()}},e[t]))}),n}},{key:"render",value:function(){var t=this,n=this,e=[{name:"black",color:"#000000"},{name:"white",color:"#ffffff"},{name:"red",color:"#cc433c"},{name:"orange",color:"#d39b48"},{name:"green",color:"#95d45a"},{name:"blue",color:"#3972b8"}];return wp.element.createElement(E,null,this.props.control.params.label&&wp.element.createElement("span",{className:"customize-control-title"},this.props.control.params.label),wp.element.createElement("div",{className:"control--top-toolbar"},wp.element.createElement(_,{className:"neve-background-type-control"},this.getButtons())),wp.element.createElement("div",{className:"control--body"},"color"===this.state.type&&wp.element.createElement(V,{colors:e,value:this.state.colorValue,onChange:function(e){n.setState({colorValue:e}),n.updateSetting()}}),"image"===this.state.type&&wp.element.createElement(E,null,!this.state.imageUrl&&wp.element.createElement(P,{icon:"format-image",labels:{title:b("Image"),instructions:b("Select from the Media Library or upload a new image")},onSelect:function(e){t.setState({imageUrl:e.url}),t.updateSetting()},allowedTypes:["image"]})||wp.element.createElement(E,null,wp.element.createElement(S,{className:"remove-image",isDestructive:!0,isLink:!0,onClick:function(){t.setState({imageUrl:""}),t.updateSetting()}},wp.element.createElement(T,{icon:"no"}),"Remove Image"),wp.element.createElement(j,{url:this.state.imageUrl,value:this.state.focusPoint,onChange:function(e){t.setState({focusPoint:{x:parseFloat(e.x).toFixed(2),y:parseFloat(e.y).toFixed(2)}}),t.updateSetting()}})),wp.element.createElement(F,{label:b("Fixed Background"),checked:this.state.fixed,onChange:function(e){t.setState({fixed:e}),t.updateSetting()}}),wp.element.createElement("span",{className:"customize-control-title"},b("Overlay Color")),wp.element.createElement(V,{colors:e,value:this.state.overlayColorValue,onChange:function(e){n.setState({overlayColorValue:e}),n.updateSetting()}}),wp.element.createElement(x,{label:b("Overlay Opacity"),value:this.state.overlayOpacity,onChange:function(e){t.setState({overlayOpacity:e}),t.updateSetting()},min:"0",max:"100"}))))}},{key:"updateSetting",value:function(){var e=this;setTimeout(function(){e.props.control.setting.set(l({},e.props.control.setting.get(),{},e.state))},100)}}]),o}();R.propTypes={control:y.object.isRequired};var D=wp.customize.Control.extend({renderContent:function(){ReactDOM.render(wp.element.createElement(R,{control:this}),this.container[0])}}),z=lodash,B=(z.startCase,z.toLower,wp.i18n.__),I=wp.compose.withInstanceId,U=wp.components,L=U.Popover,N=U.Button,M=wp.element,q=M.Component,W=M.Fragment,A=I(function(e){function n(e){var t;return r(this,n),(t=p(this,s(n).call(this,e))).state={fonts:null,selected:null,isVisible:!1,search:""},t}return i(n,q),t(n,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("load",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:fetch(NeveReactCustomize.fontsJson).then(function(e){return e.json()}).then(function(e){t.setState({fonts:e})}).finally(function(){});case 1:case"end":return e.stop()}},e)})))}},{key:"getFonts",value:function(){var t=[],n=this;return this.state.fonts&&Object.keys(this.state.fonts).forEach(function(e){t.push({name:e,variants:n.state.fonts[e].variants||null})}),t}},{key:"getFontList",value:function(){var e=this.getFonts(),n=[];return e.map(function(e){var t={fontFamily:e.name};n.push(wp.element.createElement("li",null,wp.element.createElement("a",{style:t,onClick:function(){self.setState({selected:e,dropdownOpen:!1})}},e.name)))}),wp.element.createElement("ul",null,n)}},{key:"render",value:function(){var e=this;return self=this,wp.element.createElement(W,null,wp.element.createElement(N,{isDefault:!0,onClick:function(){e.setState({isVisible:!0})}},B("Font Family"),this.state.isVisible&&wp.element.createElement(L,{onClickOutside:function(){return e.setState({isVisible:!1})}},this.state.fonts&&this.getFontList()||B("Loading..."))))}}]),n}()),G=wp.i18n.__,H=wp.element,J=H.Component,Y=H.Fragment,K=(wp.editor.MediaPlaceholder,wp.components),Q=K.Button,X=(K.ButtonGroup,K.RangeControl,K.FocalPointPicker,K.Dashicon,K.ColorPalette,K.ToggleControl,function(e){function o(e){var t;r(this,o),t=p(this,s(o).call(this,e));var n=e.control.setting.get();return t.state={type:n.type||"color",imageUrl:n.imageUrl||"",focusPoint:n.focusPoint||{x:.5,y:.5},colorValue:n.colorValue||"#ffffff",overlayColorValue:n.overlayColorValue||"#000000",overlayOpacity:n.overlayOpacity||50,fixed:n.fixed||!1},t}return i(o,J),t(o,[{key:"getButtons",value:function(){var e={color:G("Color"),image:G("Image")},n=[],o=this;return["color","image"].map(function(t){n.push(wp.element.createElement(Q,{isPrimary:o.state.type===t,isDefault:o.state.type!==t,onClick:function(e){o.setState({type:t}),o.updateSetting()}},e[t]))}),n}},{key:"render",value:function(){return wp.element.createElement(Y,null,this.props.control.params.label&&wp.element.createElement("span",{className:"customize-control-title"},this.props.control.params.label),wp.element.createElement(A,null))}},{key:"updateSetting",value:function(){var e=this;setTimeout(function(){e.props.control.setting.set(l({},e.props.control.setting.get(),{},e.state))},100)}}]),o}());X.propTypes={control:y.object.isRequired};var Z=wp.customize.Control.extend({renderContent:function(){this.focus(),console.log("loaded"),ReactDOM.render(wp.element.createElement(X,{control:this}),this.container[0])}});wp.customize.controlConstructor.neve_toggle_control=w,wp.customize.controlConstructor.neve_background_control=D,wp.customize.controlConstructor.neve_typeface_control=Z}();
